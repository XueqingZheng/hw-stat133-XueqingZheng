---
title: "workout01-xueqing-zheng.Rmd"
author: Xueqing Zheng
output: github_document
---

```{r out.width="80%", echo=FALSE, fig.align='center'}
knitr::include_graphics('../images/gsw_shot_charts.png')
```

## 5.1) Effective Shooting Percentage

```{r}
library(dplyr)
shots_data <- read.csv("../data/shots-data.csv")
```

```{r}
#2PT Effective Shooting % by Player:
twopt <- shots_data %>%
  filter(shot_type == "2PT Field Goal") %>%
  #select(name, shot_made_flag) %>%
  group_by(name) %>%
  summarise(
    total = sum(shot_type == "2PT Field Goal"),
    made = sum(shot_made_flag == "shot_yes"),
    perc_made = made / total
    ) %>%
  arrange(desc(perc_made))

#3PT Effective Shooting % by Player
threept <- shots_data %>%
  filter(shot_type == "3PT Field Goal") %>%
  #select(name, shot_made_flag) %>%
  group_by(name) %>%
  summarise(
    total = sum(shot_type == "3PT Field Goal"),
    made = sum(shot_made_flag == "shot_yes"),
    perc_made = made / total
    ) %>%
  arrange(desc(perc_made))

#Effective Shooting % by Player:
eff_pt <- shots_data %>%
  filter(shot_type == "3PT Field Goal" | shot_type == "2PT Field Goal") %>%
  #select(name, shot_made_flag) %>%
  group_by(name) %>%
  summarise(
    total = sum(shot_type == "3PT Field Goal" | shot_type == "2PT Field Goal"),
    made = sum(shot_made_flag == "shot_yes"),
    perc_made = made / total
    ) %>%
  arrange(desc(perc_made))

 knitr::kable(twopt)
 knitr::kable(threept)
 knitr::kable(eff_pt)
  

```


